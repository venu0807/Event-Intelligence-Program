# ================================================================
#  Event Intelligence Platform — Requirements
#  MySQL Edition  |  Next.js 14  |  Node.js 18+
# ================================================================


# ────────────────────────────────────────────────────────────────
#  SYSTEM REQUIREMENTS
# ────────────────────────────────────────────────────────────────

Node.js          >= 18.0.0       https://nodejs.org/en/download
npm              >= 9.0.0        bundled with Node.js
MySQL            >= 8.0          https://dev.mysql.com/downloads/mysql


# ────────────────────────────────────────────────────────────────
#  EXTERNAL API KEYS  (free tier — no credit card required)
# ────────────────────────────────────────────────────────────────

NewsAPI          https://newsapi.org
                 → Sign up → Account → Copy API key
                 Free tier: 100 requests/day, English articles

Google Gemini    https://aistudio.google.com
                 → Sign in → Get API Key → Create API key
                 Free tier: gemini-1.5-flash (60 requests/min)


# ────────────────────────────────────────────────────────────────
#  ENVIRONMENT VARIABLES  (create .env.local from .env.example)
# ────────────────────────────────────────────────────────────────

MYSQL_HOST       localhost
MYSQL_PORT       3306
MYSQL_USER       root  (or your MySQL username)
MYSQL_PASSWORD   your_mysql_password
MYSQL_DATABASE   event_intelligence

JWT_SECRET       64-character random string
                 Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

NEWS_API_KEY     from newsapi.org
GEMINI_API_KEY   from aistudio.google.com


# ────────────────────────────────────────────────────────────────
#  NPM PRODUCTION DEPENDENCIES
# ────────────────────────────────────────────────────────────────

next                    14.2.5    Next.js framework (frontend + API routes)
react                   18.x      React UI library
react-dom               18.x      React DOM renderer
@google/generative-ai   0.15.0    Google Gemini AI SDK
bcryptjs                2.4.3     Password hashing (bcrypt)
jsonwebtoken            9.0.2     JWT creation and verification
mysql2                  3.10.3    MySQL client for Node.js (Promise API)
recharts                2.12.7    Chart library for dashboard visualisations
dotenv                  16.4.5    Load .env files in init script


# ────────────────────────────────────────────────────────────────
#  NPM DEV DEPENDENCIES
# ────────────────────────────────────────────────────────────────

typescript              5.x       TypeScript compiler
@types/node             20.x      Node.js type definitions
@types/react            18.x      React type definitions
@types/react-dom        18.x      React DOM type definitions
@types/bcryptjs         2.4.6     bcryptjs type definitions
@types/jsonwebtoken     9.0.6     jsonwebtoken type definitions
tailwindcss             3.4.1     Utility-first CSS framework
autoprefixer            10.x      PostCSS plugin for CSS vendor prefixes
postcss                 8.x       CSS transformation tool


# ────────────────────────────────────────────────────────────────
#  SETUP COMMANDS  (run in this exact order)
# ────────────────────────────────────────────────────────────────

# Step 1 — Install all npm packages
npm install

# Step 2 — Create and fill in environment variables
cp .env.example .env.local
# Then edit .env.local with your MySQL credentials and API keys

# Step 3 — Initialise the MySQL database and all tables
npm run db:init
# This runs scripts/init-db.js which executes schema.sql

# Step 4 — Start development server
npm run dev
# Visit http://localhost:3000

# Step 5 (optional) — Production build
npm run build
npm start


# ────────────────────────────────────────────────────────────────
#  MYSQL MANUAL SETUP  (alternative to npm run db:init)
# ────────────────────────────────────────────────────────────────

# Open MySQL CLI or MySQL Workbench and run:
#   source /path/to/project/schema.sql;
#
# Or from the terminal:
#   mysql -u root -p < schema.sql


# ────────────────────────────────────────────────────────────────
#  VERIFY YOUR ENVIRONMENT
# ────────────────────────────────────────────────────────────────

# Check Node.js version (must be 18+)
node --version

# Check npm version
npm --version

# Check MySQL is running
mysql -u root -p -e "SELECT VERSION();"
